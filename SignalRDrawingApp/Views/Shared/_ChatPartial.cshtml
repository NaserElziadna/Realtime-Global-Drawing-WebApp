<aside id="global-chat" class="chat-sidebar">
    <div class="chat-header">
        <span>Global Chat</span>
        <span id="chatUserCount">0 👥</span>
    </div>
    <div id="chat-messages" class="chat-messages"></div>
    <div class="chat-input-container">
        <form id="chat-form" onsubmit="return false;" class="d-flex flex-wrap">
            <input id="chat-input" type="text" class="form-control flex-grow-1" placeholder="Type a message..." autocomplete="off">
            <div class="d-flex mt-1 mt-sm-0">
                <button class="btn btn-secondary position-btn ml-sm-1" type="button" id="share-position" title="Share current position">
                    📍
                </button>
                <button class="btn btn-primary ml-sm-1" type="button" id="send-message">
                    <span class="d-none d-sm-inline">Send</span>
                    <span class="d-inline d-sm-none">📤</span>
                </button>
            </div>
        </form>
    </div>
</aside>

<button id="chat-toggle" class="chat-toggle" aria-label="Toggle chat" style="display: flex !important; visibility: visible !important; opacity: 1 !important;">
    <span id="chat-toggle-icon">❮</span>
</button>